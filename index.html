<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <title>水果庫存與價格清單</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
      body { font-family:sans-serif; padding:20px; }
      table { border-collapse: collapse; width:100%; max-width:500px; }
      th, td { padding: 8px 12px; border-bottom:1px solid #ccc; }
    </style>
  </head>
  <body>
    <h1>水果庫存與價格</h1>

    <table id="table">
      <thead>
        <tr>
          <th>名稱</th>
          <th>庫存</th>
          <th>價格</th>
        </tr>
      </thead>
      <tbody><tr><td colspan="3">載入中...</td></tr></tbody>
    </table>

const supabase = window.supabase
  .createClient(
    "https://krfqqkukafhqieaygyka.supabase.co",
    "sb-publishable-xxxxxxxxxxxxxxx"
  );

      async function loadFruits() {
        const { data, error } = await supabase
          .from("fruits")
          .select("*")
          .order("id");

        const tbody = document.querySelector("#table tbody");
        tbody.innerHTML = "";

        data.forEach((f) => {
          tbody.innerHTML += `
            <tr>
              <td>${f.name}</td>
              <td>${f.stock}</td>
              <td>${f.price}</td>
            </tr>
          `;
        });
      }

      loadFruits();
    </script>
  </body>
</html>
